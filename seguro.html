<!DOCTYPE html>
<html lang="pt">
<head>
  <meta charset="UTF-8">
  <title>Solicitar An√°lise de Seguro ‚Äî BrazilTrad</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="css/style.css">
</head>

<body>

<section class="parceiros-hero">
  <div class="container">
    <h1>Solicitar An√°lise de Seguro de Exporta√ß√£o</h1>
    <p>Avaliamos gratuitamente o risco do comprador internacional e indicamos a melhor cobertura para sua opera√ß√£o.</p>
  </div>
</section>
   
<section class="parceiros-section">
  <div class="container">

    <!-- üîπ BLOCO 1 ‚Äî DADOS DO VENDEDOR -->
    <h2>Dados do Vendedor (Exportador)</h2>

    <form class="partner-form" id="seguroForm">

      <div class="form-grid">
        <input type="text" name="empresa_vendedora" placeholder="Nome da empresa vendedora" required>
        <input type="text" name="responsavel_vendedor" placeholder="Nome do respons√°vel" required>

        <input type="email" name="email_vendedor" placeholder="Email" required>
        <input type="text" name="telefone_vendedor" placeholder="Telefone / WhatsApp" required>

        <input type="text" name="pais_origem" placeholder="Pa√≠s de origem" required>
      </div>

      <!-- üîπ BLOCO 2 ‚Äî DADOS DO COMPRADOR -->
      <h2>Dados do Comprador (Importador)</h2>

      <div class="form-grid">
        <input type="text" name="empresa_compradora" placeholder="Nome da empresa compradora" required>
        <input type="text" name="responsavel_comprador" placeholder="Nome do contato no comprador" required>

        <input type="text" name="pais_destino" placeholder="Pa√≠s de destino" required>
        <input type="text" name="cidade_destino" placeholder="Cidade de destino">
      </div>

      <!-- üîπ BLOCO 3 ‚Äî DADOS DA OPERA√á√ÉO -->
      <h2>Dados da Opera√ß√£o Comercial</h2>

      <div class="form-grid">
        <input type="text" name="produto" placeholder="Produto" required>
        <input type="text" name="ncm" placeholder="NCM / HS Code (opcional)">

        <input type="text" name="valor_operacao" placeholder="Valor total da opera√ß√£o (USD / EUR)" required>

        <select name="moeda" required>
          <option disabled selected>Moeda</option>
          <option>USD</option>
          <option>EUR</option>
          <option>BRL</option>
        </select>

        <select name="incoterm" required>
          <option disabled selected>Incoterm</option>
          <option>FOB</option>
          <option>CIF</option>
          <option>CFR</option>
          <option>DAP</option>
          <option>DDP</option>
        </select>

        <select name="pagamento" required>
          <option disabled selected>Prazo de pagamento</option>
          <option>√Ä vista</option>
          <option>30 dias</option>
          <option>60 dias</option>
          <option>90 dias</option>
        </select>

        <input type="text" name="quantidade" placeholder="Quantidade (ex: 500 toneladas)">
      </div>

      <!-- üîπ BLOCO 4 ‚Äî LOG√çSTICA & TRANSPORTE -->
      <h2>Transporte & Log√≠stica</h2>

      <div class="form-grid">
        <select name="meio_transporte" required>
          <option disabled selected>Meio de transporte</option>
          <option>Mar√≠timo</option>
          <option>A√©reo</option>
          <option>Rodovi√°rio</option>
          <option>Multimodal</option>
        </select>

        <input type="number" name="tempo_transporte" placeholder="Tempo estimado de transporte (dias)" required>

        <input type="text" name="porto_origem" placeholder="Porto / Aeroporto de origem">
        <input type="text" name="porto_destino" placeholder="Porto / Aeroporto de destino">
      </div>

      <!-- üîπ BLOCO 5 ‚Äî OBSERVA√á√ïES -->
      <h2>Observa√ß√µes Adicionais</h2>

      <div class="form-grid">
        <textarea name="observacoes" placeholder="Descreva qualquer detalhe adicional sobre a opera√ß√£o"></textarea>
      </div>

      <!-- üîπ BLOCO FINAL -->
      <div class="seguranca-info">
        <p style="font-size:14px;opacity:0.8;">
          ‚úÖ Todas as informa√ß√µes s√£o confidenciais  
          <br>‚úÖ Esta an√°lise n√£o gera compromisso  
          <br>‚úÖ Retornamos em at√© 24h √∫teis
        </p>
      </div>

      <div style="display:flex;justify-content:center;gap:16px;margin-top:16px;">
        <button type="submit" class="btn-submit">Solicitar An√°lise de Seguro</button>
        <a href="../index.html" class="btn-submit" style="text-decoration:none;display:flex;align-items:center;">Voltar</a>
      </div>

      <p id="formMessage" style="margin-top:14px;text-align:center;"></p>

    </form>

  </div>
</section>
<script>
document.addEventListener("DOMContentLoaded", function () {

  const form = document.getElementById("seguroForm");
  const msg = document.getElementById("formMessage");

  if (!form || !msg) {
    console.error("Formul√°rio de seguro ou mensagem n√£o encontrados.");
    return;
  }

  form.addEventListener("submit", async function (e) {
    e.preventDefault();

    const data = new FormData(form);

    // ‚úÖ Campos de controlo para o CRM
    data.append("origem", "Seguro - Site");
    data.append("lang", "PT");
    data.append("tipo_lead", "Seguro");

    try {
      const response = await fetch(
        "https://script.google.com/macros/s/AKfycbyjINH9RzPYSydQipJBkmZ_1FMXL5irgNOTxML9QxqvaAb7tRjDfpoeq_GV-ximZpDo/exec",
        {
          method: "POST",
          body: data
        }
      );

      const result = await response.json();

      if (result.status === "ok") {
        form.reset();
        msg.innerText = "‚úÖ Pedido de an√°lise enviado com sucesso! Entraremos em contacto em at√© 24h.";
        msg.style.color = "#1f9d55";
        msg.scrollIntoView({ behavior: "smooth" });
      } else {
        msg.innerText = "‚ùå Erro ao enviar os dados. Tente novamente.";
        msg.style.color = "#dc2626";
        console.error(result);
      }

    } catch (err) {
      msg.innerText = "‚ùå Erro de liga√ß√£o com o servidor.";
      msg.style.color = "#dc2626";
      console.error(err);
    }

  });

});
</script>
</body>
</html>

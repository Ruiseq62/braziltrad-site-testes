<!DOCTYPE html>
<html lang="pt">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Contato ‚Äî BrazilTrad</title>
  <link rel="stylesheet" href="css/style.css">

  <style>
    .langbar{
      position:fixed;top:0;left:0;right:0;height:36px;
      display:flex;align-items:center;justify-content:center;
      gap:14px;background:#0F4C5C;color:#fff;
      font:500 14px/1 Inter,system-ui,-apple-system;
      z-index:10000
    }
    .langbar a{color:#fff;text-decoration:none;opacity:.8;padding:6px 10px;border-radius:999px}
    .langbar a.active,.langbar a:hover{background:rgba(255,255,255,.14);opacity:1}

    body{padding-top:60px}

    form{
      max-width:520px;margin:0 auto;background:#fff;
      padding:30px;border-radius:12px;
      box-shadow:0 2px 10px rgba(0,0,0,0.05)
    }
    label{display:block;margin-top:12px;font-weight:500}
    input,textarea{
      width:100%;padding:10px;margin-top:4px;
      border:1px solid #ccc;border-radius:6px;font-family:inherit
    }
    button{
      margin-top:16px;background:#0F4C5C;color:#fff;
      border:none;padding:12px 20px;border-radius:6px;cursor:pointer
    }
    button:hover{background:#12697a}

    .msg{margin-top:16px;text-align:center;font-weight:600}
    .success{color:#008f4c}
    .error{color:#c62828}
  </style>

</head>
<body>

  <!-- Barra de idioma -->
  <div class="langbar">
    <a href="#pt" data-lang-select="pt">üáßüá∑ PT</a>
    <a href="#en" data-lang-select="en">üá¨üáß EN</a>
    <a href="#es" data-lang-select="es">üá™üá∏ ES</a>
    <a href="#zh" data-lang-select="zh">üá®üá≥ ‰∏≠Êñá</a>
  </div>

  <main class="container">
    <h1 data-i18n="title">Contato</h1>
    <p data-i18n="desc" style="text-align:center">Preencha o formul√°rio abaixo e nossa equipe entrar√° em contato.</p>

    <form id="contactForm" action="https://api.web3forms.com/submit" method="POST">
      <input type="hidden" name="access_key" value="36b646fd-5467-4ff8-8a3a-9df90aae76fe">
      <input type="hidden" name="form_origem" value="Contato">
      <input type="hidden" name="idioma" value="pt">

      <label data-i18n="form.name">Nome</label>
      <input type="text" name="name" required>

      <label data-i18n="form.email">E-mail</label>
      <input type="email" name="email" required>

      <label data-i18n="form.company">Empresa (opcional)</label>
      <input type="text" name="company">

      <label data-i18n="form.cell">Celular</label>
      <input type="text" name="cell">

      <label data-i18n="form.message">Mensagem</label>
      <textarea name="message" rows="5" required></textarea>

      <button type="submit" data-i18n="form.send">Enviar mensagem</button>
      <div id="formMsg" class="msg"></div>
    </form>
  </main>

  <footer class="footer" style="margin-top:60px;text-align:center;padding:20px;color:#444">
    <div>¬© BrazilTrad ‚Äî <span data-i18n="footer">Conectando produtores brasileiros a mercados globais.</span></div>
    <div>‚úâÔ∏è <a href="mailto:rsequeira@braziltrad.com">rsequeira@braziltrad.com</a></div>
  </footer>

  <script>
    const I18N = {
      pt:{title:"Contato",desc:"Preencha o formul√°rio abaixo e nossa equipe entrar√° em contato.",
        form:{name:"Nome",email:"E-mail",company:"Empresa (opcional)",cell:"Celular",message:"Mensagem",send:"Enviar mensagem"},
        success:"Mensagem enviada com sucesso! Entraremos em contato em breve.",
        error:"Erro ao enviar. Tente novamente.",
        footer:"Conectando produtores brasileiros a mercados globais."}
    };

    function setLanguage(lang){
      const t=I18N.pt;
      document.querySelectorAll("[data-i18n]").forEach(el=>{
        const path = el.dataset.i18n.split(".");
        let val=t;
        path.forEach(k=>val=val[k]);
        el.textContent=val;
      });
    }

    setLanguage("pt");

    // Envio Web3Forms + Google Sheets
    document.getElementById("contactForm").addEventListener("submit", async (e)=>{
      e.preventDefault();
      const form=e.target;
      const data=new FormData(form);
      const msg=document.getElementById("formMsg");
      msg.textContent="";

      try{
        const res=await fetch(form.action,{method:"POST",body:data});

        // Dados para Google Sheets
        const sheetData={
          nome: form.name.value,
          email: form.email.value,
          empresa: form.company.value,
          celular: form.cell.value,
          mensagem: form.message.value,
          idioma:"pt",
          tipo:"Contato"
        };

        await fetch("https://script.google.com/macros/s/AKfycbz54mjdL83y4hUXPnPrwOtNxgwL5Q3TtrQ75yzljmpS-h8dSi50oCGojaSBGKGdxwkquQ/exec",{
          method:"POST",
          body:JSON.stringify(sheetData)
        });

        if(res.ok){
          msg.textContent=I18N.pt.success;
          msg.className="msg success";
          form.reset();
        }else throw new Error();
      }catch{
        msg.textContent=I18N.pt.error;
        msg.className="msg error";
      }
    });
  </script>

</body>
</html>

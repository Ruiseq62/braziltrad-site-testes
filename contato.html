<!doctype html>
<html lang="pt">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Contato â€” BrazilTrad</title>
  <link rel="stylesheet" href="./css/style.css">
</head>
<body>
  <!-- header (simplificado, mantÃ©m consistÃªncia com index) -->
  <header class="header">
    <div class="container nav">
      <a class="brand" href="./"><img src="assets/img/braziltrad-logo.png" alt="BrazilTrad" style="height:44px"></a>
      <nav><ul><li><a href="./">InÃ­cio</a></li></ul></nav>
    </div>
  </header>

  <main class="section" style="padding-top:60px;text-align:center;">
    <div class="container" style="max-width:720px;margin:0 auto;">
      <h2>Contato</h2>
      <p>Preencha o formulÃ¡rio e responderemos rapidamente.</p>

      <form id="form" style="text-align:left;display:grid;gap:12px;margin-top:18px;">
        <input name="page" type="hidden" value="Contato PT">
        <label>Nome<input name="nome" required></label>
        <label>Empresa<input name="empresa"></label>
        <label>Email<input name="email" type="email" required></label>
        <label>Telefone<input name="telefone"></label>
        <label>Mensagem<textarea name="mensagem" rows="5" required></textarea></label>

        <div style="display:flex;gap:8px;justify-content:center;margin-top:8px;">
          <button type="submit" class="button">Enviar</button>
          <a class="button secondary" href="./">Voltar</a>
        </div>
      </form>

      <div id="msg" style="margin-top:14px;text-align:center;"></div>
    </div>
  </main>

  <footer class="footer" style="margin-top:40px;">
    <div class="container">Â© BrazilTrad</div>
  </footer>

  <script>
    const SCRIPT_URL = "https://script.google.com/macros/s/AKfycbyiWG0tLJPZmWV8ZsGVezmZTe5RIY7y2YESb74a0RaAJYmb2GhRXgMmR6GZw2NjOrq0uA/exec";
    const TO_EMAIL = "rsequeira@braziltrad.com";

    document.getElementById("form").addEventListener("submit", async (e)=>{
      e.preventDefault();
      const f = new FormData(e.target);
      const data = Object.fromEntries(f.entries());
      // send to Apps Script
      try {
        await fetch(SCRIPT_URL, {method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(data)});
      } catch(err) {
        console.warn("Apps Script POST falhou", err);
      }
      // mailto fallback
      const subject = encodeURIComponent("BrazilTrad â€” Contato ðŸ‡§ðŸ‡·");
      const body = encodeURIComponent(`Nome: ${data.nome}\nEmpresa: ${data.empresa}\nEmail: ${data.email}\nTelefone: ${data.telefone}\nMensagem:\n${data.mensagem}`);
      window.location.href = `mailto:${TO_EMAIL}?subject=${subject}&body=${body}`;

      const msg = document.getElementById("msg");
      msg.textContent = "Obrigado â€” a sua mensagem foi enviada.";
      e.target.reset();
    });
  </script>
</body>
</html>
